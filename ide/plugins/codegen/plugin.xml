<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

<extension
	point="org.eclipse.ui.commands">
	<command
		defaultHandler="org.overture.ide.plugins.codegen.commands.Vdm2CppCommand"
		id="org.overture.ide.plugins.codegen.vdm2cpp"
		name="VDM to C++">
	</command>
</extension>

<extension
	point="org.eclipse.ui.menus">
	<menuContribution
		locationURI="popup:org.overture.ide.ui.VdmExplorer">
		<menu
			icon="icons/codegen.png"
			id="org.overture.ide.plugins.codegen"
			label="Code Generation">
			<command
				commandId="org.overture.ide.plugins.codegen.vdm2cpp"
				label="Convert to C++"
				style="push">
				<visibleWhen
					checkEnabled="false">
					<iterate ifEmpty="false">
						<adapt
							type="org.overture.ide.core.resources.IVdmProject">
							<or>
								<test
									property="org.overture.ide.core.resources.dialect"
									value="VDM_RT">
								</test>
								<test
									property="org.overture.ide.core.resources.dialect"
									value="VDM_PP">
								</test>
							</or>
						</adapt>
					</iterate>
				</visibleWhen>
			</command>
		</menu>
	</menuContribution>
</extension>

 <extension
 	point="org.eclipse.ui.bindings">
	<key
		commandId="org.overture.ide.plugins.codegen.vdm2cpp"
		contextId="org.eclipse.ui.contexts.window"
		schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
		sequence="Ctrl+Alt+C">
	</key>
</extension>
 
</plugin>
