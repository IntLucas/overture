//
// THIS FILE IS AUTOMATICALLY GENERATED!!
//
// Generated at 2008-11-08 by the VDM++ to JAVA Code Generator
// (v8.1.1b - Wed 29-Oct-2008 09:29:09)
//
// Supported compilers: jdk 1.4/1.5/1.6
//

// ***** VDMTOOLS START Name=HeaderComment KEEP=NO
// ***** VDMTOOLS END Name=HeaderComment

// ***** VDMTOOLS START Name=package KEEP=NO
package org.overturetool.umltrans;

// ***** VDMTOOLS END Name=package

// ***** VDMTOOLS START Name=imports KEEP=NO

import java.io.BufferedWriter;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.io.Writer;

import jp.co.csk.vdm.toolbox.VDM.CGException;
import jp.co.csk.vdm.toolbox.VDM.Tuple;
import jp.co.csk.vdm.toolbox.VDM.UTIL;

// ***** VDMTOOLS END Name=imports



public class external_IO {

// ***** VDMTOOLS START Name=parent KEEP=YES
	IO parent = null;
	static File f = null;
	static Writer output = null;
	static Boolean firstLine = true;

// ***** VDMTOOLS END Name=parent


// ***** VDMTOOLS START Name=external_IO#1|IO KEEP=NO
  public external_IO (IO parentIO) {
    parent = parentIO;
  }
// ***** VDMTOOLS END Name=external_IO#1|IO


// ***** VDMTOOLS START Name=external_IO KEEP=NO
  public external_IO () {}
// ***** VDMTOOLS END Name=external_IO


// ***** VDMTOOLS START Name=impl_writeval#1|Object KEEP=NO
  public Boolean impl_writeval (final Object val) throws CGException {

    UTIL.RunTime("Run-Time Error:Implicit Function writeval has been called");
    return new Boolean(false);
  }
// ***** VDMTOOLS END Name=impl_writeval#1|Object


// ***** VDMTOOLS START Name=impl_fwriteval#3|String|Object|Object KEEP=YES
	public Boolean impl_fwriteval(final String filename, final Object val, final Object fdir) throws CGException
	{

		// if (fdir.toString().equals("<start>"))
		// {
		try
		{
			f = new File(filename);
			f.createNewFile();
			output = new BufferedWriter(new FileWriter(f));

			// } catch (Exception e)
			// {
			// // TODO Auto-generated catch block
			// e.printStackTrace();
			// }
			// } else if (fdir.toString().equals("<append>"))
			// {
			// try
			// {
			String line = val.toString();
			// if(line.startsWith("\"") )
			// line= line.substring(1,-1);
			// if(line.endsWith("\""))
			// line= line.substring(0,line.length()-1);
			output.append(line);
			if (!firstLine)
			{
				// output.append((CharSequence) " "
				// + val.toString().replace('\"', ' ').replace('$',
				// '\"'));

			} else
			{
				// output.append((CharSequence) val.toString().replace('\"',
				// ' ').replace('$', '\"').trim());
				firstLine = false;
			}
			output.flush();
			output.close();
		} catch (IOException e)
		{
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		// }

		return new Boolean(true);
	}

// ***** VDMTOOLS END Name=impl_fwriteval#3|String|Object|Object


// ***** VDMTOOLS START Name=impl_freadval#1|String KEEP=NO
  public Tuple impl_freadval (final String f) throws CGException {

    UTIL.RunTime("Run-Time Error:Implicit Function freadval has been called");
    return new Tuple();
  }
// ***** VDMTOOLS END Name=impl_freadval#1|String


// ***** VDMTOOLS START Name=impl_fecho#3|String|String|Object KEEP=YES
	public Boolean impl_fecho(final String filename, final String text, final Object fdir) throws CGException
	{
		System.out.println(text);
		// UTIL.RunTime("Run-Time Error:Preliminary fecho has been called");
		return true;
	}

// ***** VDMTOOLS END Name=impl_fecho#3|String|String|Object


// ***** VDMTOOLS START Name=impl_ferror KEEP=NO
  public String impl_ferror () throws CGException {

    UTIL.RunTime("Run-Time Error:Preliminary ferror has been called");
    return new String();
  }
// ***** VDMTOOLS END Name=impl_ferror

}
;
